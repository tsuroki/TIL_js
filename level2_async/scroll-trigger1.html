<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link rel="stylesheet" href="./styles/reset.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
    <title>ScrollTrigger</title>
    <!-- SCROLLTRIGGER CDN(필수) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    <style>
        body, html {
            height: 300vh;
            background : linear-gradient(blue,red,yellow,green,skyblue);
        }
        main .bg {height: 90vh; overflow: hidden;}
        main .bg img {width: 100%;}
        main .bg2 img {opacity: 0; transform: scale(1); }
    </style>
</head>
<body>
    <main>
        <section class="bg bg1">
            <img src="https://images.unsplash.com/photo-1707344088547-3cf7cea5ca49?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDF8MHxzZWFyY2h8MXx8dHJhdmVsfGVufDB8fDB8fHww" alt="#">
        </section>
        <section class="bg bg2">
            <img src="https://plus.unsplash.com/premium_photo-1677343210638-5d3ce6ddbf85?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dHJhdmVsfGVufDB8fDB8fHww" alt="#">
        </section>
        <section class="bg bg3">
            <img src="https://images.unsplash.com/photo-1568849676085-51415703900f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTd8fHRyYXZlbHxlbnwwfHwwfHx8MA%3D%3D" alt="#">
        </section>
        <section class="bg bg4">
            <img src="https://images.unsplash.com/photo-1533105079780-92b9be482077?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjJ8fHRyYXZlbHxlbnwwfHwwfHx8MA%3D%3D" alt="#">
        </section>
    </main>
    <script>
        //"DOMContentLoaded" 이벤트 필요한 경우, defer 없이 script를 head에 작성한 경우 필요하다.    
        //document.addEventListener("DOMContentLoaded", (event) => {
        /* gsap.registerPlugin(ScrollTrigger) */
        //스크롤 트리거 작성 시작
        
        //gsap.from('애니메이션 대상', {
        // 옵션 : 값 , 옵션 : 값 , 옵션 : 값 , 옵션 : {옵션 : 값},})
        /* 
        gsap.from('애니메이션 대상', {
            scrollTrigger : {trigger : '트리거 발동 기준'}
            스크롤애니메이션속성 : 값,
            스크롤애니메이션속성 : 값,
        })
        */

        gsap.to('.bg2 img', { //from : scrollTrigger에서 선언한 속성값에서 시작하여 css나 html 내장 속성값으로 도달함
                                // to : css나 html 내장 속성값으로 부터 scrollTrigger의 속성값에 도달함
            scrollTrigger: { //스크롤 트리거 속성 선언
                trigger: '.bg2', // 트리거 발생 시작 지점
                markers : true, //마커 표시
                start : 'top 80%', //scroller-start 트리거 마커 위치 변경
                end : 'top 40%',
                scrub: true, // scroller-start 위치에 따라 애니메이션 진행 상태가 실시간 상호작용하여 보여준다.
            },
            scale:2,
            opacity:1,
            duration : 3
        })

        //스크롤 트리거 작성 종료
        //});
    </script>
</body>
</html>